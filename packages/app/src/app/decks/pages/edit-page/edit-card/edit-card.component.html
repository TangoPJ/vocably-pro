<app-card-form
  class="form"
  data-test="card-form"
  @form
  *ngIf="isEdit"
  [item]="item"
  (save)="onSave($event)"
  (cancel)="isEdit = false"
></app-card-form>
<div data-test="card-item" class="card" [@card]="isEdit ? 'hidden' : 'shown'">
  <div class="actions" data-test="card-actions" *ngIf="!isEdit">
    <button
      *ngIf="!isDeleted"
      data-test="card-action-edit"
      class="unstyled mr-0_5"
      (click)="isEdit = true"
    >
      <ion-icon name="create-outline" size="large"></ion-icon>
    </button>
    <button
      *ngIf="!isDeleted"
      data-test="card-action-delete"
      class="unstyled"
      (click)="delete.emit()"
    >
      <ion-icon name="trash-outline" size="large"></ion-icon>
    </button>
    <button
      class="unstyled underline"
      data-test="card-action-restore"
      *ngIf="isDeleted"
      (click)="restore.emit()"
    >
      restore
    </button>
  </div>
  <div>
    <div class="inline-block side-a">{{ item.data.source }}</div>
    <div
      *ngIf="item.data.partOfSpeech"
      class="inline-block small muted inline-block ml-0_5"
    >
      <span class="inline-block invisible-space">&nbsp;</span>
      {{ item.data.partOfSpeech }}
    </div>
  </div>
  <ul
    app-side-b
    [definition]="item.data.definition"
    [translation]="item.data.translation"
  ></ul>
</div>
