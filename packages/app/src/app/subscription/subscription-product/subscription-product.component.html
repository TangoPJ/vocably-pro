<div class="container-l mb-2">
  <div class="mat-display-1 text-center text-emphasize mb-2">
    Vocably inspires you to read in a foreign language
  </div>
</div>

<div class="container mb-2 text-center">
  Browse your favourite websites, instantly translate unknown words, and
  automatically create flashcards. Study flashcards on the go and improve your
  vocabulary.
</div>

<div class="container-l mb-2">
  <div class="cards mb-1">
    <button
      class="card flex-1"
      *ngFor="let product of subscriptionProducts"
      [class.active]="selectedProduct === product"
      (click)="selectedProduct = product"
      [attr.data-test]="'subscribe-' + product.duration"
    >
      <div class="break-word text-center mb-1">
        <span class="text-emphasize text-x200">{{ product.duration }}</span
        ><br class="hide-when-needed" />
        <span class="text-x150"> {{ product.duration | months }}</span>
      </div>
      <div
        class="display-flex justify-content-center align-items-center border-bottom mb-1 pb-1"
      >
        <div class="text-emphasize flex-1 nowrap">Per month</div>
        <div class="text-primary text-x150 flex-1 text-right">
          {{ product.price / product.duration | currency: product.currency }}
        </div>
      </div>
      <div class="display-flex justify-content-center align-items-center mb-2">
        <div class="text-emphasize flex-0">Total</div>
        <del
          *ngIf="product.duration > 1"
          class="flex-1 ml-1 text-x150 text-center"
          >{{
            subscriptionProducts[0].price * product.duration
              | currency: product.currency
          }}</del
        >
        <div class="text-primary text-x150 flex-1 text-right">
          {{ product.price | currency: product.currency }}
        </div>
      </div>
      <div class="text-center">
        <div
          class="select-button"
          [class.selected]="selectedProduct === product"
        >
          {{ selectedProduct === product ? 'Selected' : 'Select' }}
        </div>
      </div>
    </button>
  </div>
</div>

<div class="container">
  <button
    class="button outline block mb-1 x2"
    [class.disabled]="selectedProduct === null"
    (click)="onSubmit()"
    data-test="subscribe-button"
  >
    {{ this.isEligibleForTrial ? 'Start 7 day free trial' : 'Subscribe' }}
  </button>
  <div
    class="text-danger text-center"
    [class.visibility-hidden]="selectedProduct !== null || !isSubmitted"
  >
    Please select subscription plan.
  </div>
</div>
