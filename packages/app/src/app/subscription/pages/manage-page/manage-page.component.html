<app-header>Manage Subscription</app-header>
<ng-container *ngIf="!hasBeenSuccessfullyCancelled">
  <div class="hero" *ngIf="!userData">
    <div class="hero-body text-center">
      <ion-spinner name="dots" class="mr-1"></ion-spinner>Loading data...
    </div>
  </div>
  <div class="hero" *ngIf="userData">
    <div class="hero-body text-center">
      <button class="button block mb-1" (click)="updatePaymentMethod(userData)">
        Update Payment Method
      </button>
      <button
        class="button danger block"
        (click)="cancelSubscription(userData)"
      >
        Cancel Subscription
      </button>
    </div>
  </div>
</ng-container>
<div class="hero" *ngIf="hasBeenSuccessfullyCancelled">
  <div class="hero-body text-center">
    <div class="mb-1">
      <ion-icon
        class="text-success status-icon"
        name="checkmark-circle"
      ></ion-icon>
    </div>
    <div class="mb-1">The subscription has been successfully cancelled.</div>
    <a [routerLink]="['/']">Return to the Dashboard.</a>
  </div>
</div>
